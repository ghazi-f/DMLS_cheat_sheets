<map version="freeplane 1.9.13">
<!--To view this file, download free mind mapping software Freeplane from https://www.freeplane.org -->
<node TEXT="DMLS Chapter 8: Data Distribution Shifts and Monitoring" LOCALIZED_STYLE_REF="AutomaticLayout.level.root" FOLDED="false" ID="ID_1090958577" CREATED="1409300609620" MODIFIED="1666869543352" VGAP_QUANTITY="2 pt"><hook NAME="MapStyle" background="#003333" zoom="0.841">
    <properties show_icon_for_attributes="true" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff" show_note_icons="true" associatedTemplateLocation="file:/E:/MindMaps/DMLS/DMLS%20Chapter%201%20Overview.mm" fit_to_viewport="false"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ID="ID_671184412" ICON_SIZE="12 pt" FORMAT_AS_HYPERLINK="false" COLOR="#484747" BACKGROUND_COLOR="#eceff4" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="8 pt" SHAPE_VERTICAL_MARGIN="5 pt" NUMBERED="false" FORMAT="markdownPatternFormat" TEXT_ALIGN="DEFAULT" BORDER_WIDTH_LIKE_EDGE="false" BORDER_WIDTH="1.9 px" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#f0f0f0" BORDER_DASH_LIKE_EDGE="true" BORDER_DASH="SOLID" MAX_WIDTH="10 cm" MIN_WIDTH="0 cm" VGAP_QUANTITY="2 pt">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#88c0d0" WIDTH="2" TRANSPARENCY="255" DASH="" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_671184412" STARTARROW="NONE" ENDARROW="DEFAULT"/>
<font NAME="SansSerif" SIZE="11" BOLD="false" STRIKETHROUGH="false" ITALIC="false"/>
<edge STYLE="bezier" COLOR="#81a1c1" WIDTH="3" DASH="SOLID"/>
<richcontent CONTENT-TYPE="plain/auto" TYPE="DETAILS"/>
<richcontent TYPE="NOTE" CONTENT-TYPE="plain/auto"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details" BORDER_WIDTH="1.9 px">
<edge STYLE="bezier" COLOR="#81a1c1" WIDTH="3"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ebcb8b">
<icon BUILTIN="clock2"/>
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.floating" COLOR="#484747">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.selection" COLOR="#e5e9f0" BACKGROUND_COLOR="#5e81ac" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#5e81ac"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.important" ID="ID_779275544" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#bf616a">
<icon BUILTIN="yes"/>
<arrowlink COLOR="#bf616a" TRANSPARENCY="255" DESTINATION="ID_779275544"/>
<font SIZE="14"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#ffffff" BACKGROUND_COLOR="#484747" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="10 pt" SHAPE_VERTICAL_MARGIN="10 pt">
<font NAME="Ubuntu" SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#eceff4" BACKGROUND_COLOR="#d08770" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="8 pt" SHAPE_VERTICAL_MARGIN="5 pt">
<font NAME="Ubuntu" SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#3b4252" BACKGROUND_COLOR="#ebcb8b">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#2e3440" BACKGROUND_COLOR="#a3be8c">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#2e3440" BACKGROUND_COLOR="#b48ead">
<font SIZE="11"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5" BACKGROUND_COLOR="#81a1c1">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6" BACKGROUND_COLOR="#88c0d0">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7" BACKGROUND_COLOR="#8fbcbb">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8" BACKGROUND_COLOR="#d8dee9">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9" BACKGROUND_COLOR="#e5e9f0">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10" BACKGROUND_COLOR="#eceff4">
<font SIZE="9"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="accessories/plugins/AutomaticLayout.properties" VALUE="ALL"/>
<font BOLD="true"/>
<node TEXT="Key" LOCALIZED_STYLE_REF="defaultstyle.floating" POSITION="right" ID="ID_1507003841" CREATED="1665493125752" MODIFIED="1666023916965" VGAP_QUANTITY="2 pt" HGAP_QUANTITY="-53.25 pt" VSHIFT_QUANTITY="-255.74999 pt">
<hook NAME="FreeNode"/>
<node TEXT="examples" ID="ID_412345450" CREATED="1665493155008" MODIFIED="1666023929901" STYLE="bubble">
<node TEXT="Oval shapes" ID="ID_551535462" CREATED="1665493168850" MODIFIED="1665493222966" STYLE="oval"/>
</node>
<node TEXT="tools" ID="ID_1508415031" CREATED="1665493161711" MODIFIED="1666023929904" STYLE="bubble" HGAP_QUANTITY="26 pt" VSHIFT_QUANTITY="3 pt">
<node TEXT="Hexagonal Shapes" ID="ID_340131492" CREATED="1665493176259" MODIFIED="1665493201185" STYLE="wide_hexagon"/>
</node>
</node>
<node TEXT="Causes of ML System Failures" POSITION="right" ID="ID_644112968" CREATED="1666872378827" MODIFIED="1666872444990">
<node TEXT="A failure is when a system expectation is violated" ID="ID_438836973" CREATED="1666873284348" MODIFIED="1666873284348"/>
<node TEXT="Software system failures with operational metrics _e.g._ latency" ID="ID_1434357953" CREATED="1666873318136" MODIFIED="1668435283079">
<node TEXT="easier to detect since they throw errors" ID="ID_748288305" CREATED="1666873402604" MODIFIED="1666873409849"/>
<node TEXT="types" ID="ID_155827133" CREATED="1666873500977" MODIFIED="1666873503598">
<node TEXT="**Dependency failure**: &#xa;happens often since dependency packages are provided by third parties that may stop maintaining it." ID="ID_1372935772" CREATED="1666873503822" MODIFIED="1666873608966"/>
<node TEXT="**Deployment failure**: _e.g._ deploying the wrong version of some files" ID="ID_1020207232" CREATED="1666873559908" MODIFIED="1666873647516"/>
<node TEXT="**Hardware failures**: _e.g._ a CPU overheating" ID="ID_243239181" CREATED="1666873655755" MODIFIED="1666873686702"/>
<node TEXT="**Downtime or crashing**: when your servers stop working" ID="ID_202603595" CREATED="1666873687574" MODIFIED="1666873717465"/>
</node>
<node TEXT="Out of 96 Large ML pipeline breakdowns at Google over 15 years, 60 were not directly related to ML" ID="ID_844862114" CREATED="1666873736313" MODIFIED="1666873786184" STYLE="oval"/>
<node TEXT="Recommended Book: O&apos;Reilly&apos;s *Reliable Machine Learning*" ID="ID_785331713" CREATED="1666873841221" MODIFIED="1666873902061" STYLE="wide_hexagon"/>
<node TEXT="tools maturing over the next years should decrease the proportion of non-LM-related failures" ID="ID_1590407202" CREATED="1666873938305" MODIFIED="1666873963904">
<icon BUILTIN="messagebox_warning"/>
</node>
</node>
<node TEXT="ML specific failures with ML metrics _e.g._ accuracy" ID="ID_1164210723" CREATED="1666873323919" MODIFIED="1666873477119">
<node TEXT="most often fail silently" ID="ID_1296857973" CREATED="1666873425113" MODIFIED="1666873429533"/>
<node TEXT="types" ID="ID_1348381035" CREATED="1666874008630" MODIFIED="1666874011229">
<node TEXT="*cf.* Chapter 4 for data related problems, Chapter 6 for hyper-parameter tuning, and Chapter 7 for dangers of different training/inference pipelines" ID="ID_1156971884" CREATED="1666874011861" MODIFIED="1666874117566"/>
<node TEXT="**Production data differing from training data (data shifts) **: _e.g._ COVID lung scanners coming from different type of hardware." ID="ID_800932392" CREATED="1666874118706" MODIFIED="1666874320439">
<node TEXT="may happen gradually or seasonally" ID="ID_1167280310" CREATED="1666874339473" MODIFIED="1666874348760"/>
<node TEXT="other errors, such as feature extraction pipeline errors, may be mistaken for data shifts" ID="ID_1007618711" CREATED="1666874382804" MODIFIED="1666874410652">
<icon BUILTIN="messagebox_warning"/>
</node>
<node TEXT="*cf.* data distribution shifts below" ID="ID_256868532" CREATED="1666874425603" MODIFIED="1666874434752"/>
</node>
<node TEXT="**edge cases**: errors due to very rare events. these are important to handle for safety-critical applications such as self-driving cars. It doesn&apos;t mean that other apps should not care for them, _e.g_ a chatbot should in no case spit out hateful or sexist content" ID="ID_1930402331" CREATED="1666874572811" MODIFIED="1666874739981"/>
<node TEXT="**Degenerate feedback loops**: when the predictions of influence the future data it collects. This happens mostly in systems with natural labels _e.g._ Recommending a song to a user,&#xa;makes the user more likely to listen to it. This type of scenario is a.k.a exposure bias, popularity bias, filter bubbles, echo chambers." ID="ID_811888327" CREATED="1666875000177" MODIFIED="1668435384213">
<node TEXT="May magnify biases" ID="ID_782800688" CREATED="1666877289166" MODIFIED="1666877297805">
<icon BUILTIN="messagebox_warning"/>
</node>
<node TEXT="Detecting degenerate feedback loops" ID="ID_362667085" CREATED="1666877496847" MODIFIED="1666877949756">
<node TEXT="" ID="ID_558377951" CREATED="1666877646396" MODIFIED="1666877646397">
<hook NAME="FirstGroupNode"/>
</node>
<node TEXT="measure the popularity diversity of system outputs" ID="ID_1615481302" CREATED="1666877915982" MODIFIED="1666877956227">
<node TEXT="aggregate diversity" ID="ID_1497577766" CREATED="1666877597788" MODIFIED="1666877674667" STYLE="wide_hexagon"/>
<node TEXT="avergae coverage of long-tal items" ID="ID_1146515861" CREATED="1666877619627" MODIFIED="1666877674666" STYLE="wide_hexagon"/>
</node>
<node TEXT="" ID="ID_153145881" CREATED="1666877646395" MODIFIED="1666877646396">
<hook NAME="SummaryNode"/>
<hook NAME="AlwaysUnfoldedNode"/>
<node TEXT="Brynjolfsson et al., 2011" ID="ID_685028589" CREATED="1666877646397" MODIFIED="1666877663655"/>
</node>
<node TEXT="measure hit rate vs popularity: a prediction system must be equally good at recommending popular and unpopular items (Chia et al., 2021)" ID="ID_1531557759" CREATED="1666877957750" MODIFIED="1666878032062"/>
</node>
<node TEXT="Correcting degenerate feedback loops" ID="ID_1485283203" CREATED="1666877499080" MODIFIED="1666878075693">
<node TEXT="introduce randomization in the recommendations" ID="ID_792667219" CREATED="1666878075987" MODIFIED="1666878109911">
<node TEXT="used by Tiktok" ID="ID_8743122" CREATED="1666878110207" MODIFIED="1666878119466" STYLE="oval"/>
<node TEXT="can cause users to loose interest" ID="ID_135963486" CREATED="1666878128475" MODIFIED="1666878134466"/>
</node>
<node TEXT="Use contextual bandits as an exploration strategy to diversify recommendations" ID="ID_1734305170" CREATED="1666878166810" MODIFIED="1666878192449"/>
<node TEXT="Encode recommendation position information in your features. If the position has influence on item value, this position information can be removed at prediction time." ID="ID_234793433" CREATED="1666878205887" MODIFIED="1666878488592"/>
</node>
</node>
</node>
</node>
</node>
<node TEXT="Data Distribution Shifts" POSITION="right" ID="ID_1583285359" CREATED="1666872446374" MODIFIED="1666872451418">
<node TEXT="Types of data distribution shifts" ID="ID_1389731125" CREATED="1666878831201" MODIFIED="1666878850059">
<node TEXT="" ID="ID_1537542643" CREATED="1666879420827" MODIFIED="1666879420828">
<hook NAME="FirstGroupNode"/>
</node>
<node TEXT="Covariate shift: a difference in the distribution of observations, _i.e._ p(x)" ID="ID_608155691" CREATED="1666878850374" MODIFIED="1666878890870">
<node TEXT="most widely studied shift" ID="ID_946596027" CREATED="1666878943202" MODIFIED="1666878949440"/>
<node TEXT="can happen between train/test due to a bias in the training data selection _e.g._ rebalancing, active learning, or simply some samples being easier to collect than others" ID="ID_289938607" CREATED="1666878980505" MODIFIED="1666879081452"/>
<node TEXT="can happen because of changes in the way the product is used _e.g._ targeting a new group of customers" ID="ID_151294281" CREATED="1666879137678" MODIFIED="1666879181340"/>
<node TEXT="if you know how train data is different from real data distribution, you can use **importance weighting* to correct for covariate shift" ID="ID_1554358921" CREATED="1666879199810" MODIFIED="1666879227314"/>
</node>
<node TEXT="Label shift: a difference in the distribution of labels, _i.e._ p(y)" ID="ID_1878501322" CREATED="1666878891784" MODIFIED="1666878904852">
<node TEXT="a.k.a prior shift" ID="ID_767838050" CREATED="1666879248827" MODIFIED="1666879254750"/>
<node TEXT="may or **may not** be a consequence of covariate shift" ID="ID_1519317057" CREATED="1666879326077" MODIFIED="1666879344762"/>
<node TEXT="detected through similar means than covariate shift" ID="ID_1154033336" CREATED="1666879361241" MODIFIED="1666879373718"/>
</node>
<node TEXT="" ID="ID_1359158221" CREATED="1666879420826" MODIFIED="1666879420827">
<hook NAME="SummaryNode"/>
<hook NAME="AlwaysUnfoldedNode"/>
<node TEXT="Assumes that p(y|x) does not change, _i.e._ no concept drift" ID="ID_1416165377" CREATED="1666879420829" MODIFIED="1666879443517"/>
</node>
<node TEXT="Concept drift: a difference in the relationship between observations and labels, _i.e._ p(y|x)" ID="ID_1077005418" CREATED="1666878905753" MODIFIED="1666878936942">
<node TEXT="in many cases, it&apos;s cyclic or seasonal" ID="ID_873804584" CREATED="1666879399008" MODIFIED="1666879409003"/>
</node>
</node>
<node TEXT="General distribution shifts" ID="ID_191316441" CREATED="1666879458795" MODIFIED="1666879469079">
<node TEXT="feature change: adding, removing or changing the range of values for a feature" ID="ID_1732926839" CREATED="1666879469483" MODIFIED="1668435480687"/>
<node TEXT="label schema change: change in the set of possible labels" ID="ID_1935066728" CREATED="1666879511096" MODIFIED="1666879525612">
<node TEXT="could happen be cause you need to predict some new classes, _e.g._ splitting a &quot;negative&quot; class into &quot;angry&quot; and &quot;sad&quot;" ID="ID_1511758830" CREATED="1666879551582" MODIFIED="1666879608338"/>
</node>
</node>
<node TEXT="Detecting data distribution shifts" ID="ID_500663861" CREATED="1666879620453" MODIFIED="1666879630736">
<node TEXT="If you have access to new labels: Monitor accuracy related metrics (any changes, even sudden improvements)" ID="ID_234785784" CREATED="1666879640359" MODIFIED="1666879699386"/>
<node TEXT="Monitor p(x), p(y), and p(y|x)" ID="ID_622811858" CREATED="1666879712933" MODIFIED="1666879728840">
<node TEXT="Black box shift estimation (Lipton et al., 2018)" ID="ID_1823059202" CREATED="1666879768619" MODIFIED="1666879796081" STYLE="wide_hexagon"/>
</node>
<node TEXT="statistical methods" ID="ID_1059338404" CREATED="1666879971614" MODIFIED="1666879974614">
<node TEXT="look at quantiles and different statistical moments for features and labels" FOLDED="true" ID="ID_804844132" CREATED="1666879991422" MODIFIED="1666880043694">
<node TEXT="data validation tools in Tensorflow Extended" ID="ID_1641020116" CREATED="1666880068742" MODIFIED="1666880090548" STYLE="wide_hexagon"/>
</node>
<node TEXT="Use two-sample hypothesis test" ID="ID_1806760903" CREATED="1666880117973" MODIFIED="1666880208775">
<node TEXT="" ID="ID_228881903" CREATED="1666880350725" MODIFIED="1666880350726">
<hook NAME="FirstGroupNode"/>
</node>
<node TEXT="Kolmogorov-Smirnov: non-parametric, but 1-dimensional" ID="ID_383054723" CREATED="1666880209062" MODIFIED="1666880386355" STYLE="wide_hexagon"/>
<node TEXT="Least-Square Density Difference" ID="ID_1332733457" CREATED="1666880245873" MODIFIED="1666880386357" STYLE="wide_hexagon"/>
<node TEXT="Maximum Mean Discrepency (MMD)" ID="ID_1968489555" CREATED="1666880265645" MODIFIED="1666880386357" STYLE="wide_hexagon"/>
<node TEXT="Learned Kernel MMD" ID="ID_934585959" CREATED="1666880288985" MODIFIED="1666880386357" STYLE="wide_hexagon"/>
<node TEXT="Alibi Detect (open source package)" ID="ID_1127536609" CREATED="1666880306226" MODIFIED="1666880386357" STYLE="wide_hexagon"/>
<node TEXT="" ID="ID_1591317089" CREATED="1666880350724" MODIFIED="1666880350725">
<hook NAME="SummaryNode"/>
<hook NAME="AlwaysUnfoldedNode"/>
<node TEXT="dimensionality reduction is recommended before using these tests because they work better in lower dimensions" ID="ID_1398316783" CREATED="1666880350728" MODIFIED="1666880377106"/>
</node>
</node>
</node>
<node TEXT="time scale windows for detecting shifts" ID="ID_377674115" CREATED="1666880650475" MODIFIED="1666880661833">
<node TEXT="Shifts may be spacial (on new devices, for new groups of users), or temporal" ID="ID_494435853" CREATED="1666880700114" MODIFIED="1666880727555"/>
<node TEXT="beware not to use cumulative statistics as they hide sudden changes" ID="ID_636057518" CREATED="1666880844165" MODIFIED="1666880857489"/>
<node TEXT="consider the cyclic changes that your data may be subject to" ID="ID_1076143810" CREATED="1666880868699" MODIFIED="1666880885593"/>
<node TEXT="knowledge of time series decomposition may help" ID="ID_1139182593" CREATED="1666880896826" MODIFIED="1666880908025"/>
<node TEXT="the time window size is a compromise between rapid change detection and false alarm rate" ID="ID_2317058" CREATED="1666881059562" MODIFIED="1666881076725"/>
<node TEXT="some montoring platform can analyze various time windows to find where change has happened --&gt; Root Cause Analysis (RCA)" ID="ID_1104226495" CREATED="1666881131858" MODIFIED="1666881176345"/>
</node>
</node>
<node TEXT="Addressing Data Distribution Shifts" ID="ID_831345107" CREATED="1666881188665" MODIFIED="1666881198056">
<node TEXT="3 approaches" ID="ID_645109036" CREATED="1666881240183" MODIFIED="1666881244495">
<node TEXT="Train on massive data" ID="ID_1133352116" CREATED="1666881244619" MODIFIED="1666881250377"/>
<node TEXT="Adapt model to target distibution *without* new labels:&#xa;&#xa;- Domain Adaptation under Target and Conditional Shift. _Zhang et al., 2013_&#xa;- On Learning Invariant Representations for Domain Adaptation. _Zhao et al., 2019_" ID="ID_1372206492" CREATED="1666881268274" MODIFIED="1668435551362"/>
<node TEXT="retrain the model (from scratch or fine-tuning)" ID="ID_339325798" CREATED="1666881461065" MODIFIED="1666881482330"/>
</node>
<node TEXT="design your system to be robust to change, _e.g._ don&apos;t use features that are too specific to certain use cases" ID="ID_667336198" CREATED="1666881554411" MODIFIED="1668435565812"/>
<node TEXT="For **very** different use cases, use different models" ID="ID_687931493" CREATED="1666881591558" MODIFIED="1666881616308"/>
<node TEXT="check for human-errors before trying to bring ML solutions." ID="ID_209845406" CREATED="1666881644469" MODIFIED="1666881668959"/>
</node>
</node>
<node TEXT="Monitoring and Observability" POSITION="left" ID="ID_809546376" CREATED="1666957943264" MODIFIED="1666957951791">
<node TEXT="Definitions" ID="ID_1130518408" CREATED="1666885345917" MODIFIED="1666885350568">
<node TEXT="" ID="ID_636121238" CREATED="1666885444440" MODIFIED="1666885444441">
<hook NAME="FirstGroupNode"/>
</node>
<node TEXT="Monitoring is tracking, measureing, logging ..." ID="ID_1018275739" CREATED="1666872459227" MODIFIED="1666885323644"/>
<node TEXT="Observability is building systems that are prone to investigations, _a.k.a_ instrumentation" ID="ID_28281781" CREATED="1666885325176" MODIFIED="1666885379131">
<node TEXT="Adding timers to functions" ID="ID_685905157" CREATED="1666885389848" MODIFIED="1666885512041" STYLE="oval"/>
<node TEXT="counting NaNs" ID="ID_1953321300" CREATED="1666885396797" MODIFIED="1666885512042" STYLE="oval"/>
<node TEXT="logging unsual events" ID="ID_94995831" CREATED="1666885406361" MODIFIED="1666885512042" STYLE="oval"/>
</node>
<node TEXT="" ID="ID_81335639" CREATED="1666885444438" MODIFIED="1666885444440">
<hook NAME="SummaryNode"/>
<hook NAME="AlwaysUnfoldedNode"/>
<node TEXT="Observability is necessary for monitoring" ID="ID_116715839" CREATED="1666885444441" MODIFIED="1666885453387"/>
</node>
</node>
<node TEXT="Operational metrics" ID="ID_48159836" CREATED="1666885356091" MODIFIED="1666885503577">
<node TEXT="latency" ID="ID_1723927361" CREATED="1666885513735" MODIFIED="1666885580993" STYLE="oval"/>
<node TEXT="throughput" ID="ID_1651300365" CREATED="1666885528608" MODIFIED="1666885580995" STYLE="oval"/>
<node TEXT="traffic" ID="ID_1105193787" CREATED="1666885569852" MODIFIED="1666885580995" STYLE="oval"/>
<node TEXT="hardware utilisation" ID="ID_1304207967" CREATED="1666885540904" MODIFIED="1666885580995" STYLE="oval"/>
<node TEXT="availability" ID="ID_840414961" CREATED="1666885540904" MODIFIED="1666885580995" STYLE="oval">
<node TEXT="often agreed on in Service Level Objects (SLOs) or Service Level Agreements (SLAs)." ID="ID_1747122904" CREATED="1666885607479" MODIFIED="1666885645255"/>
</node>
</node>
<node TEXT="ML-specific metrics" ID="ID_1105933033" CREATED="1666885693347" MODIFIED="1666885698179">
<node TEXT="Accuracy-related metrics" ID="ID_1970216074" CREATED="1666885716694" MODIFIED="1666885727158">
<node TEXT="try to find natural labels or proxies for natural labels to monitor it" ID="ID_1144736270" CREATED="1666885807707" MODIFIED="1666885821683"/>
<node TEXT="you can prompt some user for feedback, like Google translation does" ID="ID_1611056773" CREATED="1666885862414" MODIFIED="1666885875512"/>
</node>
<node TEXT="predictions" ID="ID_1299052248" CREATED="1666885752995" MODIFIED="1666885755499">
<node TEXT="monitor for distribution changes, _e.g._ unsual number of &quot;False&quot; category predictions in a row" ID="ID_1225383755" CREATED="1666885882316" MODIFIED="1666885956192"/>
</node>
<node TEXT="features" ID="ID_1088112893" CREATED="1666885727705" MODIFIED="1666885737876">
<node TEXT="" ID="ID_1698733258" CREATED="1666886242689" MODIFIED="1666886242690">
<hook NAME="FirstGroupNode"/>
</node>
<node TEXT="a lot of monitoring solutions focus on it" ID="ID_1285906408" CREATED="1666886129707" MODIFIED="1666886140577"/>
<node TEXT="check mean, max and median" ID="ID_295316338" CREATED="1666886164336" MODIFIED="1666886174121"/>
<node TEXT="may be try some regex rules" ID="ID_1016560029" CREATED="1666886181707" MODIFIED="1666886188386"/>
<node TEXT="check that values belong to a certain set" ID="ID_1590901301" CREATED="1666886195341" MODIFIED="1666886202902"/>
<node TEXT="maybe some comparisons between features" ID="ID_776829173" CREATED="1666886207340" MODIFIED="1666886217405"/>
<node TEXT="" ID="ID_1331580032" CREATED="1666886242688" MODIFIED="1666886242689">
<hook NAME="SummaryNode"/>
<hook NAME="AlwaysUnfoldedNode"/>
<node TEXT="a.k.a unit tests for data" ID="ID_1653120140" CREATED="1666886242691" MODIFIED="1666886251853"/>
<node TEXT="Great Expectations" ID="ID_852703595" CREATED="1666886252804" MODIFIED="1666886272780" STYLE="wide_hexagon"/>
<node TEXT="Deequ" ID="ID_1766064477" CREATED="1666886260931" MODIFIED="1666886272779" STYLE="wide_hexagon"/>
</node>
<node TEXT="two-sample tests" ID="ID_1512841357" CREATED="1666886303675" MODIFIED="1666886309746"/>
<node TEXT="can be compute intensive" ID="ID_1091153664" CREATED="1666886336225" MODIFIED="1666886346086">
<icon BUILTIN="messagebox_warning"/>
</node>
<node TEXT="good for debugging, not for detecting model performance degradation" ID="ID_1820686421" CREATED="1666886356094" MODIFIED="1666886367977">
<node TEXT="can cause &quot;alert fatigue&quot;" ID="ID_119451270" CREATED="1666886391519" MODIFIED="1666886401301">
<icon BUILTIN="messagebox_warning"/>
</node>
</node>
<node TEXT="alerts may be caused by changes in schema" ID="ID_983465505" CREATED="1666886464313" MODIFIED="1666886471917"/>
</node>
<node TEXT="raw inputs" ID="ID_372414252" CREATED="1666885741424" MODIFIED="1666885748774">
<node TEXT="responsibility of data platform team, not DS team" ID="ID_1199617565" CREATED="1666886506136" MODIFIED="1666886517980"/>
</node>
</node>
<node TEXT="Monitoring toolbox" ID="ID_495823630" CREATED="1666886534831" MODIFIED="1666886539945">
<node TEXT="Logs" ID="ID_1705062315" CREATED="1666886568350" MODIFIED="1666886572458">
<node TEXT="anything that could be interesting" ID="ID_514320037" CREATED="1666886573087" MODIFIED="1666886618852">
<node TEXT="memory usage" ID="ID_98259171" CREATED="1666886619058" MODIFIED="1666886663080" STYLE="oval"/>
<node TEXT="container starts" ID="ID_1515147163" CREATED="1666886637784" MODIFIED="1666886663080" STYLE="oval"/>
<node TEXT="error codes" ID="ID_120515673" CREATED="1666886642113" MODIFIED="1666886663080" STYLE="oval"/>
<node TEXT="crashs" ID="ID_773911805" CREATED="1666886652254" MODIFIED="1666886663080" STYLE="oval"/>
<node TEXT="traces" ID="ID_1438384479" CREATED="1666886654493" MODIFIED="1666886663078" STYLE="oval"/>
</node>
<node TEXT="can grow large quickly, _e.g._ Badoo generates 20 billion events a day" ID="ID_1562783807" CREATED="1666886691861" MODIFIED="1666886732753"/>
<node TEXT="log the ID of the process where the error happened and every other useful identifier, _a.k.a_ distributed tracing" ID="ID_1762444791" CREATED="1666886734620" MODIFIED="1666886819140"/>
<node TEXT="ML can be applied to log analysis to find anomalies, to classify event priorities, or to predict failure propagation between services" ID="ID_1665058222" CREATED="1666886839567" MODIFIED="1666886909459">
<icon BUILTIN="idea"/>
</node>
<node TEXT="use real-time transport to transport events quickly" ID="ID_1942615288" CREATED="1666886940998" MODIFIED="1666886954382">
<node TEXT="Kafka" ID="ID_48739067" CREATED="1666886957840" MODIFIED="1666886975631" STYLE="wide_hexagon"/>
<node TEXT="Amazon Kinesis" ID="ID_1297521362" CREATED="1666886961722" MODIFIED="1666886975630" STYLE="wide_hexagon"/>
</node>
<node TEXT="use streaming SQL engines to search for events in real time" ID="ID_5544485" CREATED="1666887011914" MODIFIED="1666887031505">
<node TEXT="KSQL" ID="ID_338550698" CREATED="1666887032285" MODIFIED="1666887048105" STYLE="wide_hexagon"/>
<node TEXT="Flink SQL" ID="ID_44770782" CREATED="1666887038361" MODIFIED="1666887048103" STYLE="wide_hexagon"/>
</node>
<node TEXT="Dashboards" ID="ID_443427977" CREATED="1666887060030" MODIFIED="1666887067934">
<node TEXT="Critical for monitoring, both for engineers and non-engineers" ID="ID_283209037" CREATED="1666887068113" MODIFIED="1666887096331"/>
<node TEXT="Excessive metrics can be counterproductive, _a.k.a_ dashboard rot" ID="ID_1933387176" CREATED="1666887140405" MODIFIED="1666887161727"/>
<node TEXT="use both high-level and low-level metrics" ID="ID_56641952" CREATED="1666887169984" MODIFIED="1666887181468"/>
</node>
<node TEXT="alerts" ID="ID_933123087" CREATED="1666887184733" MODIFIED="1666887186380">
<node TEXT="Components" ID="ID_65420703" CREATED="1666887223638" MODIFIED="1666887227279">
<node TEXT="" ID="ID_870759402" CREATED="1666887286739" MODIFIED="1666887286740">
<hook NAME="FirstGroupNode"/>
</node>
<node TEXT="Alert policy: conditions for an alert" ID="ID_769459685" CREATED="1666887227530" MODIFIED="1666887245510"/>
<node TEXT="Notification channel, _e.g._ sending an email" ID="ID_1267336692" CREATED="1666887246093" MODIFIED="1666887269130"/>
<node TEXT="Description" ID="ID_413806287" CREATED="1666887270805" MODIFIED="1666887279132"/>
<node TEXT="" ID="ID_1807708427" CREATED="1666887286738" MODIFIED="1666887286739">
<hook NAME="SummaryNode"/>
<hook NAME="AlwaysUnfoldedNode"/>
<node TEXT="careful with alert, they can cause alert fatigue and lower morale" ID="ID_1371590816" CREATED="1666887286741" MODIFIED="1666887315416">
<icon BUILTIN="messagebox_warning"/>
</node>
</node>
</node>
</node>
</node>
</node>
<node TEXT="Observability" ID="ID_1767594641" CREATED="1666887329076" MODIFIED="1666887333457">
<node TEXT="a term meaning bringing better visibility into system behavior at run time" ID="ID_818486661" CREATED="1666887390309" MODIFIED="1666887411262"/>
<node TEXT="encompasses interpretability" ID="ID_768480990" CREATED="1666887468588" MODIFIED="1666887477059"/>
</node>
</node>
</node>
</map>
